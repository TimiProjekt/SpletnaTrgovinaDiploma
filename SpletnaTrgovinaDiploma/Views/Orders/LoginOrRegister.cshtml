@using SpletnaTrgovinaDiploma.Data.ViewModels
@model LoginOrRegisterViewModel
@{
    ViewData["Title"] = "Delivery Information";
}

<div class="text-center pt-5">
    <div class="btn-group">
        <a class="btn btn-outline-primary" id="btn-show-unregistered" href="#" onclick="showUnregistered()">
            Unregistered
        </a>

        <a class="btn btn-success" id="btn-show-login" href="#" onclick="showLogin()">
            Login
        </a>
    </div>
</div>

@if (TempData["Error"] != null)
{
    <div class="col-md-12 alert alert-danger">
        <span><b>Sorry!</b> - @TempData["Error"]</span>
    </div>
}

<div class="table" id="unregistered-table" style="@(Model.IsRegistered ? "display:none" : "display:block")">
    <div class="row">
        <div class="col-md-8 ml-2 offset-md-1">
            <form asp-action="DeliveryInfo">
                <input name="IsRegistered" type="hidden" value="False" />
                <div class="form-group">
                    <label asp-for="UnregisteredUser.DeliveryInfo.PersonName" class="control-label"></label>
                    <input asp-for="UnregisteredUser.DeliveryInfo.PersonName" class="form-control" />
                    <span asp-validation-for="UnregisteredUser.DeliveryInfo.PersonName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="UnregisteredUser.DeliveryInfo.PersonSurname" class="control-label"></label>
                    <input asp-for="UnregisteredUser.DeliveryInfo.PersonSurname" class="form-control" />
                    <span asp-validation-for="UnregisteredUser.DeliveryInfo.PersonSurname" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="UnregisteredUser.DeliveryInfo.EmailAddress" class="control-label"></label>
                    <input asp-for="UnregisteredUser.DeliveryInfo.EmailAddress" class="form-control" />
                    <span asp-validation-for="UnregisteredUser.DeliveryInfo.EmailAddress" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="UnregisteredUser.DeliveryInfo.TelephoneNumber" class="control-label"></label>
                    <input asp-for="UnregisteredUser.DeliveryInfo.TelephoneNumber" class="form-control" />
                    <span asp-validation-for="UnregisteredUser.DeliveryInfo.TelephoneNumber" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="UnregisteredUser.DeliveryInfo.StreetName" class="control-label"></label>
                    <input asp-for="UnregisteredUser.DeliveryInfo.StreetName" class="form-control" />
                    <span asp-validation-for="UnregisteredUser.DeliveryInfo.StreetName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="UnregisteredUser.DeliveryInfo.HouseNumber" class="control-label"></label>
                    <input asp-for="UnregisteredUser.DeliveryInfo.HouseNumber" class="form-control" />
                    <span asp-validation-for="UnregisteredUser.DeliveryInfo.HouseNumber" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="UnregisteredUser.DeliveryInfo.ZipCode" class="control-label"></label>
                    <input asp-for="UnregisteredUser.DeliveryInfo.ZipCode" class="form-control" />
                    <span asp-validation-for="UnregisteredUser.DeliveryInfo.ZipCode" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="UnregisteredUser.DeliveryInfo.City" class="control-label"></label>
                    <input asp-for="UnregisteredUser.DeliveryInfo.City" class="form-control" />
                    <span asp-validation-for="UnregisteredUser.DeliveryInfo.City" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="UnregisteredUser.DeliveryInfo.CountryId"></label>
                    <select asp-for="UnregisteredUser.DeliveryInfo.CountryId" class="form-control" asp-items="ViewBag.Countries"></select>
                    <span asp-validation-for="UnregisteredUser.DeliveryInfo.CountryId" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <input class="btn btn-outline-success float-right" type="submit" value="Next" />
                </div>
            </form>
        </div>
    </div>
</div>

<div class="table" id="login-table" style="@(Model.IsRegistered ? "display:block" : "display:none")">
    <div class="row">
        <div class="col-md-8 ml-2 offset-md-1">
            <form asp-action="DeliveryInfo">
                <input name="IsRegistered" type="hidden" value="True" />
                <div class="form-group">
                    <label asp-for="RegisteredUser.EmailAddress" class="control-label"></label>
                    <input asp-for="RegisteredUser.EmailAddress" class="form-control" />
                    <span asp-validation-for="RegisteredUser.EmailAddress" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="RegisteredUser.Password" class="control-label"></label>
                    <input asp-for="RegisteredUser.Password" class="form-control" />
                    <span asp-validation-for="RegisteredUser.Password" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <input class="btn btn-outline-success float-right" type="submit" value="Login" />
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts{

    <script type="text/javascript">
        function showUnregistered() {

            var unregisteredTable = document.getElementById('unregistered-table')
            var loginTable = document.getElementById('login-table')
            var btnUnregistered = document.getElementById('btn-show-unregistered')
            var btnLogin = document.getElementById('btn-show-login')
            unregisteredTable.style.display = 'block'
            loginTable.style.display = 'none'
            btnUnregistered.classList.add('btn-primary')
            btnUnregistered.classList.remove('btn-outline-primary')
            btnLogin.classList.remove('btn-success')
            btnLogin.classList.add('btn-outline-success')
        }

        function showLogin() {
            var unregisteredTable = document.getElementById('unregistered-table')
            var loginTable = document.getElementById('login-table')
            var btnUnregistered = document.getElementById('btn-show-unregistered')
            var btnLogin = document.getElementById('btn-show-login')
            unregisteredTable.style.display = 'none'
            loginTable.style.display = 'block'
            btnUnregistered.classList.remove('btn-primary')
            btnUnregistered.classList.add('btn-outline-primary')
            btnLogin.classList.add('btn-success')
            btnLogin.classList.remove('btn-outline-success')
        }
    </script>
}



